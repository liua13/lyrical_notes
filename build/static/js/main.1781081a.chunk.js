(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{22:function(e){e.exports=JSON.parse('{"genres":["acoustic","afrobeat","alt-rock","alternative","ambient","anime","black-metal","bluegrass","blues","brazil","breakbeat","british","cantopop","chicago-house","children","chill","classical","club","comedy","country","c-pop","dance","dancehall","death-metal","deep-house","detroit-techno","disco","disney","drum-and-bass","dub","dubstep","edm","electro","electronic","emo","folk","forro","french","funk","garage","german","goth","grindcore","groove","grunge","guitar","happy","hard-rock","hardcore","hardstyle","heavy-metal","hip-hop","honky-tonk","house","idm","indian","indie","indie-pop","industrial","j-dance","j-idol","j-pop","j-rock","jazz","k-pop","kids","latin","latino","malay","mandopop","metal","metalcore","minimal-techno","mpb","new-age","opera","pagode","party","piano","pop","pop-film","power-pop","progressive-house","psych-rock","punk","punk-rock","rap","r-n-b","reggae","reggaeton","rock","rockabilly","romance","salsa","samba","sertanejo","show-tunes","singer-songwriter","ska","sleep","songwriter","soul","spanish","swedish","synth-pop","tango","techno","trance","trip-hop","turkish","world-music"]}')},23:function(e,t,a){e.exports=a.p+"static/media/favicon.edd59a5c.png"},24:function(e,t,a){e.exports=a(54)},49:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(17),o=a.n(s),c=a(3),i=a(4),l=a(7),u=a(6),p=a(5),m=a(18),h=a.n(m),g=a(19),d=a(22),v=(a(49),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).getGenre=function(t){t.preventDefault();Object(l.a)(e);var a=t.target.value;e.props.updateGenre(a)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("h1",null,"select a genre"),n.a.createElement("p",null,"and guess the song from listening to a 30 second preview"),n.a.createElement("div",{className:"genre-container"},d.genres.map((function(t,a){return n.a.createElement("button",{className:"genre-buttons",key:a,value:t,onClick:e.getGenre},t)}))))}}]),a}(n.a.Component)),k=(a(50),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={startTime:null,displayTime:"00:00:00.00"},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=(new Date).getTime();this.timeInterval=setInterval((function(){var t=(new Date).getTime()-e.state.startTime,a=e.props.convertToTimeDisplay(t);e.setState({displayTime:a})}),1),this.setState({startTime:t})}},{key:"componentWillUnmount",value:function(){this.props.updateTotalTime((new Date).getTime()-this.state.startTime),clearInterval(this.timeInterval)}},{key:"render",value:function(){return n.a.createElement("div",null,this.state.displayTime)}}]),a}(n.a.Component)),T=function(e){return n.a.createElement("div",null,n.a.createElement("a",{href:e.currentTrack.external_urls.spotify,target:"_blank"},e.currentTrack.name)," ","by"," ",e.currentTrack.artists.map((function(e){return n.a.createElement("span",{key:e.id},n.a.createElement("a",{href:e.external_urls.spotify,target:"_blank"},e.name)," ","&"," ")})),n.a.createElement("p",null,"album:"," ",n.a.createElement("a",{href:e.currentTrack.album.external_urls.spotify,target:"_blank"},e.currentTrack.album.name)),n.a.createElement("img",{src:e.currentTrack.album.images[1].url}),n.a.createElement("button",{onClick:e.changeCurrentTrack},"NEXT"))},f=(a(51),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={giveup:!1},e.changeCurrentTrack=function(){e.setState({giveup:!1}),e.props.updateUserGuess(null),e.props.increaseGameCount(),e.props.updateCurrentTrack()},e.guessTrack=function(t){t.preventDefault();var a=e.props.currentTrack.name,r=e.props.currentTrack.guessName,n=e.refs.trackTitle.value;n=n.replace(",",""),e.props.updateUserGuess(r==n||a==n)},e.setGiveupTrue=function(){e.props.increaseGiveupCount(),e.setState({giveup:!0})},e}return Object(i.a)(a,[{key:"render",value:function(){console.log(this.props.currentTrack.guessName);var e="";return 1==this.props.correct?e=n.a.createElement("div",null,n.a.createElement("h5",null,"CORRECT!"),n.a.createElement(T,{currentTrack:this.props.currentTrack,changeCurrentTrack:this.changeCurrentTrack})):this.state.giveup?e=n.a.createElement(T,{currentTrack:this.props.currentTrack,changeCurrentTrack:this.changeCurrentTrack}):0==this.props.correct&&(e=n.a.createElement("h5",null,"INCORRECT! Try again!")),n.a.createElement("div",{className:"container",style:this.props.backgroundColor},!this.props.correct&&!this.state.giveup&&n.a.createElement(k,{updateTotalTime:this.props.updateTotalTime,convertToTimeDisplay:this.props.convertToTimeDisplay,giveup:this.state.giveup,correct:this.props.correct}),n.a.createElement("h1",null,this.props.genre),n.a.createElement("p",null,this.props.gameCount+1," / ",this.props.totalGameCount),n.a.createElement("audio",{src:this.props.currentTrack.preview_url,controls:!0}),!this.props.correct&&!this.state.giveup&&n.a.createElement("div",null,n.a.createElement("button",{className:"giveup-button",onClick:this.setGiveupTrue},"GIVE UP"),n.a.createElement("form",{onSubmit:this.guessTrack},n.a.createElement("input",{id:"userGuess",ref:"trackTitle",placeholder:"song title",type:"text"}),n.a.createElement("button",{type:"action"},"guess"))),n.a.createElement("div",{className:"guessDisplay"},e))}}]),a}(n.a.Component)),b=(a(52),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement("h1",null,"game stats"),n.a.createElement("div",{className:"gamestats-container"},n.a.createElement("p",null,n.a.createElement("span",null,"correct guesses"),":"," ",n.a.createElement("span",null,this.props.correctGuesses)),n.a.createElement("p",null,n.a.createElement("span",null,"incorrect guesses"),":"," ",n.a.createElement("span",null,this.props.incorrectGuesses)),n.a.createElement("p",null,n.a.createElement("span",null,"gave up"),": ",n.a.createElement("span",null,this.props.giveupCount," times")),n.a.createElement("p",null,n.a.createElement("span",null,"total time"),":"," ",n.a.createElement("span",null,this.props.convertToTimeDisplay(this.props.totalTime))),n.a.createElement("p",null,n.a.createElement("span",null,"average time"),":"," ",n.a.createElement("span",null,this.props.convertToTimeDisplay(this.props.totalTime/this.props.gameCount)))),n.a.createElement("button",{onClick:this.props.resetStates},"Play again"))}}]),a}(n.a.Component)),C=a(23),E=a.n(C),y=(a(53),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={genre:null,tracks:{},currentTrack:null,totalGameCount:10,gameCount:0,correctGuesses:0,incorrectGuesses:0,giveupCount:0,correct:null,backgroundColor:{backgroundColor:"#9370DB"},totalTime:0},e.updateGenre=function(t){var a=Object(l.a)(e);h.a.post("/api/getTrackByGenre",{genre:t}).then((function(e){console.log(t),a.setState((function(a){return{genre:t,tracks:e.data}})),a.updateCurrentTrack()})).catch((function(e){console.log(e)}))},e.updateCurrentTrack=function(){e.setState((function(t){var a=t.tracks,r=Object.keys(a);if(0!=r.length||1!=e.state.gameCount)if(0!=r.length){for(var n=r.length*Math.random()<<0,s=a[r[n]];!s.preview_url&&0!=r.length;)delete a[r[n]],s=a[(r=Object.keys(a))[n=r.length*Math.random()<<0]];if(0!=r.length){var o=s.name;return o=(o=(o=(o=(o=(o=o.split("-")[0]).split("(")[0]).split(":")[0]).replace("&","and")).replace(",","")).trim().toLowerCase(),s.guessName=o,delete a[r[n]],{currentTrack:s,tracks:a}}e.updateGenre(e.state.genre)}else e.updateGenre(e.state.genre)}))},e.resetStates=function(){e.setState((function(e){return{genre:null,tracks:[],currentTrack:null,correct:null,gameCount:0,correctGuesses:0,incorrectGuesses:0,giveupCount:0,totalTime:0}}))},e.increaseGameCount=function(){e.setState((function(e){return{gameCount:e.gameCount+1}}))},e.increaseGiveupCount=function(){e.setState((function(e){return{giveupCount:e.giveupCount+1}}))},e.updateUserGuess=function(t){var a={backgroundColor:"#9370DB"};1==t?(a.backgroundColor="#32CD32",e.setState((function(e){return{correctGuesses:e.correctGuesses+1}}))):0==t&&(a.backgroundColor="#FA8072",e.setState((function(e){return{incorrectGuesses:e.incorrectGuesses+1}}))),e.setState({correct:t,backgroundColor:a})},e.updateTotalTime=function(t){e.setState((function(e){return{totalTime:e.totalTime+t}}))},e.convertToTimeDisplay=function(e){var t=parseInt(e%1e3/100),a=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),n=Math.floor(e/36e5%24);return(n=n<10?"0"+n:n)+":"+(r=r<10?"0"+r:r)+":"+(a=a<10?"0"+a:a)+"."+t},e}return Object(i.a)(a,[{key:"render",value:function(){var e;return e=this.state.gameCount==this.state.totalGameCount?n.a.createElement(b,{gameCount:this.state.gameCount,correctGuesses:this.state.correctGuesses,incorrectGuesses:this.state.incorrectGuesses,giveupCount:this.state.giveupCount,totalTime:this.state.totalTime,resetStates:this.resetStates,convertToTimeDisplay:this.convertToTimeDisplay}):this.state.currentTrack?n.a.createElement("div",null,n.a.createElement(f,{currentTrack:this.state.currentTrack,genre:this.state.genre,gameCount:this.state.gameCount,totalGameCount:this.state.totalGameCount,correct:this.state.correct,backgroundColor:this.state.backgroundColor,totalTime:this.totalTime,updateCurrentTrack:this.updateCurrentTrack,resetStates:this.resetStates,increaseGameCount:this.increaseGameCount,increaseGiveupCount:this.increaseGiveupCount,updateUserGuess:this.updateUserGuess,updateTotalTime:this.updateTotalTime,convertToTimeDisplay:this.convertToTimeDisplay})):n.a.createElement(v,{updateGenre:this.updateGenre}),n.a.createElement("div",null,n.a.createElement(g.a,{title:"Lyrical Notes",meta:[{name:"description",content:"Guess the song from listening to just 30 seconds!"},{name:"keywords",content:"game, Spotify, music"}],link:[{rel:"shortcut icon",type:"image/png",href:"".concat(E.a)}]}),n.a.createElement("div",{className:"App",style:this.state.backgroundColor},e,n.a.createElement("footer",null,"made with \u2665 by ",n.a.createElement("a",{href:"http://annieliu.me/"},"annie liu")," ","\u2022"," ",n.a.createElement("a",{href:"https://github.com/liua13/lyrical_notes"},"source code"))))}}]),a}(n.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement("div",null,n.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.1781081a.chunk.js.map